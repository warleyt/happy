{"version":3,"sources":["images/map-marker.svg","images/logo.svg","pages/Landing.tsx","utils/mapIcon.ts","services/api.ts","pages/OrphanagesMap.tsx","components/Sidebar.tsx","pages/Orphanage.tsx","pages/CreateOrphanage.tsx","routes.tsx","App.tsx","index.tsx"],"names":["module","exports","Landing","id","className","src","logoImg","alt","to","size","color","mapIcon","Leaflet","icon","iconUrl","mapMarkerImg","iconSize","iconAnchor","popupAnchor","api","axios","create","baseURL","OrphanagesMap","useState","orphanages","setOrphanages","console","log","useEffect","get","then","response","data","Map","center","zoom","style","width","height","TileLayer","url","map","orphanage","Marker","position","latitude","longitude","key","Popup","closeButton","minWidth","maxWidth","name","Sidebar","goBack","useHistory","type","onClick","Orphanage","params","useParams","setOrphanage","activeImageIndex","setActiveImageIndex","images","image","index","about","dragging","touchZoom","zoomControl","scrollWheelZoom","doubleClickZoom","interactive","target","rel","href","instructions","opening_hours","open_on_weekends","CreateOrphanage","history","setPosition","setName","setAbout","setInstructions","setOpeningHours","setOpenOnWeekends","setImages","previewImages","setPreviewImages","event","a","preventDefault","FormData","append","String","forEach","post","alert","push","onSubmit","latlng","lat","lng","htmlFor","value","onChange","maxLength","multiple","files","selectedImages","Array","from","selectedImagesPreview","URL","createObjectURL","Routes","path","exact","component","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c32845da.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/map-marker.658b8302.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.1653c647.svg\";","import React from \"react\";\r\nimport { FiArrowRight } from \"react-icons/fi\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"../styles/pages/landing.css\";\r\n\r\nimport logoImg from \"../images/logo.svg\";\r\n \r\nfunction Landing() {\r\n  return (\r\n    <div id=\"page-landing\">\r\n      <div className=\"content-wrapper\">\r\n        <img src={logoImg} alt=\"Happy\" />\r\n\r\n        <main>\r\n          <h1>Leve felicidade para o mundo</h1>\r\n          <p>Visite orfanatos e mude o dia de muitas crianças.</p>\r\n        </main>\r\n\r\n        <div className=\"location\">\r\n          <strong>Coronel Fabriciano</strong>\r\n          <span>Minas Gerais</span>\r\n        </div>\r\n      </div>\r\n\r\n      <Link to=\"/app\" className=\"enter-app\">\r\n        <FiArrowRight size={26} color=\"rgba(0,0,0,0.6)\" />\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Landing;\r\n","import Leaflet from 'leaflet';\r\n\r\nimport mapMarkerImg from '../images/map-marker.svg';         \r\n\r\nconst mapIcon = Leaflet.icon({\r\n    iconUrl: mapMarkerImg,\r\n  \r\n    iconSize: [58, 68],\r\n    iconAnchor: [29, 68],\r\n    popupAnchor: [0, -60]\r\n  })\r\n\r\nexport default mapIcon;","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: 'http://localhost:3333',\r\n});\r\n\r\nexport default api;\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FiPlus, FiArrowRight } from \"react-icons/fi\";\r\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\r\n\r\nimport mapMarkerImg from \"../images/map-marker.svg\";\r\nimport mapIcon from \"../utils/mapIcon\";\r\nimport api from \"../services/api\";\r\n\r\nimport \"../styles/pages/orphanages-map.css\";\r\n\r\ninterface Orphanage {\r\n  id: number;\r\n  latitude: number;\r\n  longitude: number;\r\n  name: string;\r\n}\r\n\r\nfunction OrphanagesMap() {\r\n  const [orphanages, setOrphanages] = useState<Orphanage[]>([]);\r\n\r\n  console.log(orphanages);\r\n\r\n  useEffect(() => {\r\n    api.get(\"orphanages\").then((response) => {\r\n      setOrphanages(response.data);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div id=\"page-map\">\r\n      <aside>\r\n        <header>\r\n          <img src={mapMarkerImg} alt=\"\" />\r\n\r\n          <h2>Escolha um orfanato no mapa</h2>\r\n          <p>Muitas crianças estão esperando a sua visita :)</p>\r\n        </header>\r\n\r\n        <footer>\r\n          <strong>Coronel Fabriciano</strong>\r\n          <span>Minas Gerais</span>\r\n        </footer>\r\n      </aside>\r\n\r\n      <Map\r\n        center={[-19.5158682, -42.6284436]}\r\n        zoom={15}\r\n        style={{ width: \"100%\", height: \"100%\" }}\r\n      >\r\n        <TileLayer url=\"https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1Ijoid2FybGV5dCIsImEiOiJja2c5bWV1MTQwYzJiMnRtb2lsNXhvZzBtIn0.YWiW8laqiIUrrZoBknlhlA\" />\r\n\r\n        {orphanages.map((orphanage) => {\r\n          return (\r\n            <Marker\r\n              position={[orphanage.latitude, orphanage.longitude]}\r\n              icon={mapIcon}\r\n              key={orphanage.id}\r\n            >\r\n              <Popup\r\n                closeButton={false}\r\n                minWidth={240}\r\n                maxWidth={240}\r\n                className=\"map-popup\"\r\n              >\r\n                {orphanage.name}\r\n                <Link to={`/orphanages/${orphanage.id}`}>\r\n                  <FiArrowRight size={20} color=\"#FFF\" />\r\n                </Link>\r\n              </Popup>\r\n            </Marker>\r\n          );\r\n        })}\r\n      </Map>\r\n\r\n      <Link to=\"/orphanages/create\" className=\"create-orphanage\">\r\n        <FiPlus size={32} color=\"#fff\" />\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OrphanagesMap;\r\n","import React from 'react';\r\nimport { FiArrowLeft } from 'react-icons/fi';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport mapMarkerImg from '../images/map-marker.svg';\r\n\r\nimport '../styles/components/sidebar.css';\r\n\r\nexport default function Sidebar(){\r\n    const { goBack } = useHistory();\r\n\r\n    return (\r\n        <aside className=\"app-sidebar\">\r\n        <img src={mapMarkerImg} alt=\"Happy\" />\r\n\r\n        <footer>\r\n          <button type=\"button\" onClick={goBack}>\r\n            <FiArrowLeft size={24} color=\"#FFF\" />\r\n          </button>\r\n        </footer>\r\n      </aside>\r\n    );\r\n};","import React, { useEffect, useState } from \"react\";\nimport { FiClock, FiInfo } from \"react-icons/fi\";\nimport { Map, Marker, TileLayer } from \"react-leaflet\";\nimport { useParams } from \"react-router-dom\";\n\nimport Sidebar from \"../components/Sidebar\";\nimport mapIcon from \"../utils/mapIcon\";\nimport api from \"../services/api\";\n\nimport \"../styles/pages/orphanage.css\";\n\ninterface Orphanage {\n  latitude: number;\n  longitude: number;\n  name: string;\n  about: string;\n  instructions: string;\n  opening_hours: string;\n  open_on_weekends: string;\n  images: Array<{\n    id: number;\n    url: string;\n  }>;\n}\n\ninterface OrphanageParams {\n  id: string;\n}\n\nexport default function Orphanage() {\n  const params = useParams<OrphanageParams>();\n  const [orphanage, setOrphanage] = useState<Orphanage>();\n  const [activeImageIndex, setActiveImageIndex] = useState(0);\n\n  console.log(orphanage);\n\n  useEffect(() => {\n    api.get(`orphanages/${params.id}`).then((response) => {\n      setOrphanage(response.data);\n    });\n  }, [params.id]);\n\n  if (!orphanage) {\n    return <p>Carregando...</p>;\n  }\n\n  return (\n    <div id=\"page-orphanage\">\n      <Sidebar />\n\n      <main>\n        <div className=\"orphanage-details\">\n          <img\n            src={orphanage.images[activeImageIndex].url}\n            alt={orphanage.name}\n          />\n\n          <div className=\"images\">\n            {orphanage.images.map((image, index) => {\n              return (\n                <button\n                  key={image.id}\n                  className={activeImageIndex===index ? 'active' : ''}\n                  type=\"button\"\n                  onClick={() => {\n                    setActiveImageIndex(index);\n                  }}\n                >\n                  <img src={image.url} alt={orphanage.name} />\n                </button>\n              );\n            })}\n          </div>\n\n          <div className=\"orphanage-details-content\">\n            <h1>{orphanage.name}</h1>\n            <p>{orphanage.about}</p>\n\n            <div className=\"map-container\">\n              <Map\n                center={[orphanage.latitude, orphanage.longitude]}\n                zoom={16}\n                style={{ width: \"100%\", height: 280 }}\n                dragging={false}\n                touchZoom={false}\n                zoomControl={false}\n                scrollWheelZoom={false}\n                doubleClickZoom={false}\n              >\n                <TileLayer\n                  url={`https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1Ijoid2FybGV5dCIsImEiOiJja2c5bWV1MTQwYzJiMnRtb2lsNXhvZzBtIn0.YWiW8laqiIUrrZoBknlhlA`}\n                />\n                <Marker\n                  interactive={false}\n                  icon={mapIcon}\n                  position={[orphanage.latitude, orphanage.longitude]}\n                />\n              </Map>\n\n              <footer>\n                <a\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  href={`https://www.google.com/maps/dir/?api=1&destination=${orphanage.latitude},${orphanage.longitude}`}\n                >\n                  Ver rotas no Google Maps\n                </a>\n              </footer>\n            </div>\n\n            <hr />\n\n            <h2>Instruções para visita</h2>\n            <p>{orphanage.instructions}</p>\n\n            <div className=\"open-details\">\n              <div className=\"hour\">\n                <FiClock size={32} color=\"#15B6D6\" />\n                Segunda à Sexta <br />\n                {orphanage.opening_hours}\n              </div>\n              {orphanage.open_on_weekends ? (\n                <div className=\"open-on-weekends\">\n                  <FiInfo size={32} color=\"#39CC83\" />\n                  Atendemos <br />\n                  fim de semana\n                </div>\n              ) : (\n                <div className=\"open-on-weekends dont-open\">\n                  <FiInfo size={32} color=\"#FF669D\" />\n                  Não atendemos <br />\n                  fim de semana\n                </div>\n              )}\n            </div>\n\n            {/* <button type=\"button\" className=\"contact-button\">\n              <FaWhatsapp size={20} color=\"#FFF\" />\n              Entrar em contato\n            </button> */}\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n","import React, { ChangeEvent, FormEvent, useState } from \"react\";\nimport { Map, Marker, TileLayer } from \"react-leaflet\";\nimport { LeafletMouseEvent } from \"leaflet\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { FiPlus } from \"react-icons/fi\";\n\nimport Sidebar from \"../components/Sidebar\";\nimport mapIcon from \"../utils/mapIcon\";\nimport api from \"../services/api\";\n\nimport \"../styles/pages/create-orphanage.css\";\n\nexport default function CreateOrphanage() {\n  const history = useHistory();\n\n  const [position, setPosition] = useState({ latitude: 0, longitude: 0 });\n\n  const [name, setName] = useState(\"\");\n  const [about, setAbout] = useState(\"\");\n  const [instructions, setInstructions] = useState(\"\");\n  const [opening_hours, setOpeningHours] = useState(\"\");\n  const [open_on_weekends, setOpenOnWeekends] = useState(true);\n  const [images,setImages] = useState<File[]>([]);\n  const [previewImages,setPreviewImages] = useState<string[]>([]);\n\n  function handleMapClick(event: LeafletMouseEvent) {\n    const { lat, lng } = event.latlng;\n\n    setPosition({ latitude: lat, longitude: lng });\n  }\n\n  function handleSelectImages(event: ChangeEvent<HTMLInputElement>) {\n    if(!event.target.files){\n      return;\n    }\n    \n    const selectedImages =Array.from(event.target.files) ;\n\n    setImages(selectedImages);\n\n    const selectedImagesPreview = selectedImages.map(image => {\n      return URL.createObjectURL(image);\n    });\n\n    setPreviewImages(selectedImagesPreview);\n  }\n\n  async function handleSubmit(event: FormEvent) {\n    event.preventDefault();\n\n    const { latitude, longitude } = position;\n\n    const data = new FormData();\n\n    data.append('name', name);\n    data.append('about', about);\n    data.append('latitude', String(latitude));\n    data.append('longitude', String(longitude));\n    data.append('instructions', instructions);\n    data.append('opening_hours', opening_hours);\n    data.append('open_on_weekends', String(open_on_weekends));\n\n    images.forEach(image => {\n      data.append('images', image);\n    })\n\n    await api.post('orphanages',data);\n\n    alert('Cadastro realizado com sucesso!');\n\n    history.push('/app');\n  }\n\n  return (\n    <div id=\"page-create-orphanage\">\n      <Sidebar />\n\n      <main>\n        <form onSubmit={handleSubmit} className=\"create-orphanage-form\">\n          <fieldset>\n            <legend>Dados</legend>\n\n            <Map\n              center={[-19.5158682, -42.6284436]}\n              style={{ width: \"100%\", height: 280 }}\n              zoom={15}\n              onClick={handleMapClick}\n            >\n              <TileLayer\n                url={`https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1Ijoid2FybGV5dCIsImEiOiJja2c5bWV1MTQwYzJiMnRtb2lsNXhvZzBtIn0.YWiW8laqiIUrrZoBknlhlA`}\n              />\n\n              {position.latitude !== 0 && (\n                <Marker\n                  interactive={false}\n                  icon={mapIcon}\n                  position={[position.latitude, position.longitude]}\n                />\n              )}\n            </Map>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"name\">Nome</label>\n              <input\n                id=\"name\"\n                value={name}\n                onChange={(event) => setName(event.target.value)}\n              />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"about\">\n                Sobre <span>Máximo de 300 caracteres</span>\n              </label>\n              <textarea\n                id=\"name\"\n                maxLength={300}\n                value={about}\n                onChange={(event) => setAbout(event.target.value)}\n              />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"images\">Fotos</label>\n\n              <div className=\"images-container\">\n                {previewImages.map(image =>{\n                  return(\n                    <img key={image} src={image} alt={name} />\n                  )\n                })}\n\n                <label htmlFor=\"image[]\" className=\"new-image\">\n                  <FiPlus size={24} color=\"#15b6d6\" />\n                </label>\n              </div>\n\n              <input multiple onChange={handleSelectImages} type=\"file\" id=\"image[]\" />\n              \n            </div>\n          </fieldset>\n\n          <fieldset>\n            <legend>Visitação</legend>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"instructions\">Instruções</label>\n              <textarea\n                id=\"instructions\"\n                value={instructions}\n                onChange={(event) => setInstructions(event.target.value)}\n              />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"opening_hours\">Horário de funcionamento</label>\n              <input\n                id=\"opening_hours\"\n                value={opening_hours}\n                onChange={(event) => setOpeningHours(event.target.value)}\n              />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"open_on_weekends\">Atende fim de semana</label>\n\n              <div className=\"button-select\">\n                <button\n                  type=\"button\"\n                  className={open_on_weekends ? \"active\" : \"\"}\n                  onClick={() => setOpenOnWeekends(true)}\n                >\n                  Sim\n                </button>\n                <button\n                  type=\"button\"\n                  className={!open_on_weekends ? \"active\" : \"\"}\n                  onClick={() => setOpenOnWeekends(false)}\n                >\n                  Não\n                </button>\n              </div>\n            </div>\n          </fieldset>\n\n          <button className=\"confirm-button\" type=\"submit\">\n            Confirmar\n          </button>\n        </form>\n      </main>\n    </div>\n  );\n}\n\n// return `https://a.tile.openstreetmap.org/${z}/${x}/${y}.png`;\n","import React from 'react';\r\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\r\n\r\nimport Landing from './pages/Landing'\r\nimport OrphanagesMap from './pages/OrphanagesMap'\r\nimport Orphanage from './pages/Orphanage'\r\nimport CreateOrphanage from './pages/CreateOrphanage'\r\n\r\nfunction Routes(){\r\n    return (\r\n        <BrowserRouter>\r\n            <Switch>\r\n                <Route path=\"/\" exact component={Landing}/>\r\n                <Route path=\"/app\" component={OrphanagesMap}/>\r\n\r\n                <Route path=\"/orphanages/create\" component={CreateOrphanage}/>\r\n                <Route path=\"/orphanages/:id\" component={Orphanage}/>\r\n            </Switch>\r\n        </BrowserRouter>\r\n\r\n    );\r\n}\r\n\r\nexport default Routes;","import React from 'react';\n\nimport './styles/global.css';\nimport \"leaflet/dist/leaflet.css\";\n\nimport Routes from './routes';\n\nfunction App() {\n  return (\n    <Routes />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}